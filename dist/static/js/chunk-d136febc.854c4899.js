(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d136febc"],{"1b99":function(e,t,i){"use strict";i("7917")},2107:function(e,t,i){"use strict";i("b84f")},"25f0":function(e,t,i){"use strict";var n=i("6eeb"),r=i("825a"),a=i("d039"),o=i("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&n(RegExp.prototype,s,(function(){var e=r(this),t=String(e.source),i=e.flags,n=String(void 0===i&&e instanceof RegExp&&!("flags"in l)?o.call(e):i);return"/"+t+"/"+n}),{unsafe:!0})},"2ee4":function(e,t,i){!function(t,i){e.exports=i()}("undefined"!=typeof self&&self,(function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=function(e,t,i,n,r,a){var o,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(o=e,s=e.default);var c,u="function"==typeof s?s.options:s;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId=r),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):n&&(c=n),c){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),p(e,t)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:o,exports:s,options:u}}},function(e,t,i){"use strict";var n=i(2),r=i(4),a=i(14);t.a={name:"form-wizard",components:{WizardButton:n.a,WizardStep:r.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(e){return-1!==["xs","sm","md","lg"].indexOf(e)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(e){return e>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(e,t){this.$emit("on-change",e,t),this.$emit("update:startIndex",t)},addTab:function(e){var t=this.$slots.default.indexOf(e.$vnode);e.tabId=""+e.title.replace(/ /g,"")+t,this.tabs.splice(t,0,e),t<this.activeTabIndex+1&&(this.maxStep=t,this.changeTab(this.activeTabIndex+1,t))},removeTab:function(e){var t=this.tabs,i=t.indexOf(e);i>-1&&(i===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),i<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),t.splice(i,1))},reset:function(){this.maxStep=0,this.tabs.forEach((function(e){e.checked=!1})),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach((function(e){e.checked=!0}))},navigateToTab:function(e){var t=this,i=e>this.activeTabIndex;if(e<=this.maxStep){var n=function n(){i&&e-t.activeTabIndex>1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.beforeTabChange(t.activeTabIndex,n)):(t.changeTab(t.activeTabIndex,e),t.afterTabChange(t.activeTabIndex))};i?this.beforeTabChange(this.activeTabIndex,n):(this.setValidationError(null),n())}return e<=this.maxStep},nextTab:function(){var e=this,t=function(){e.activeTabIndex<e.tabCount-1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.afterTabChange(e.activeTabIndex)):e.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,t)},prevTab:function(){var e=this,t=function(){e.activeTabIndex>0&&(e.setValidationError(null),e.changeTab(e.activeTabIndex,e.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,t):t()},focusNextTab:function(){var e=Object(a.b)(this.tabs);if(-1!==e&&e<this.tabs.length-1){var t=this.tabs[e+1];t.checked&&Object(a.a)(t.tabId)}},focusPrevTab:function(){var e=Object(a.b)(this.tabs);if(-1!==e&&e>0){var t=this.tabs[e-1].tabId;Object(a.a)(t)}},setLoading:function(e){this.loading=e,this.$emit("on-loading",e)},setValidationError:function(e){this.tabs[this.activeTabIndex].validationError=e,this.$emit("on-error",e)},validateBeforeChange:function(e,t){var i=this;if(this.setValidationError(null),Object(a.c)(e))this.setLoading(!0),e.then((function(e){i.setLoading(!1);var n=!0===e;i.executeBeforeChange(n,t)})).catch((function(e){i.setLoading(!1),i.setValidationError(e)}));else{var n=!0===e;this.executeBeforeChange(n,t)}},executeBeforeChange:function(e,t){this.$emit("on-validate",e,this.activeTabIndex),e?t():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(e,t){if(!this.loading){var i=this.tabs[e];if(i&&void 0!==i.beforeChange){var n=i.beforeChange();this.validateBeforeChange(n,t)}else t()}},afterTabChange:function(e){if(!this.loading){var t=this.tabs[e];t&&void 0!==t.afterChange&&t.afterChange()}},changeTab:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.tabs[e],r=this.tabs[t];return n&&(n.active=!1),r&&(r.active=!0),i&&this.activeTabIndex!==t&&this.emitTabChange(e,t),this.activeTabIndex=t,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(e){this.$router&&e.route&&this.$router.push(e.route)},checkRouteChange:function(e){var t=-1,i=this.tabs.find((function(i,n){var r=i.route===e;return r&&(t=n),r}));if(i&&!i.active){var n=t>this.activeTabIndex;this.navigateToTab(t,n)}},deactivateTabs:function(){this.tabs.forEach((function(e){e.active=!1}))},activateTab:function(e){this.deactivateTabs();var t=this.tabs[e];t&&(t.active=!0,t.checked=!0,this.tryChangeRoute(t))},activateTabAndCheckStep:function(e){this.activateTab(e),e>this.maxStep&&(this.maxStep=e),this.activeTabIndex=e},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(e){this.checkRouteChange(e)}}}},function(e,t,i){"use strict";function n(e){i(10)}var r=i(3),a=i(11),o=i(0),s=n,l=o(r.a,a.a,!1,s,null,null);t.a=l.exports},function(e,t,i){"use strict";t.a={}},function(e,t,i){"use strict";function n(e){i(12)}var r=i(5),a=i(13),o=i(0),s=n,l=o(r.a,a.a,!1,s,null,null);t.a=l.exports},function(e,t,i){"use strict";t.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(e,t,i){"use strict";t.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(8),r=i(16),a=i(2),o=i(4);i.d(t,"FormWizard",(function(){return n.a})),i.d(t,"TabContent",(function(){return r.a})),i.d(t,"WizardButton",(function(){return a.a})),i.d(t,"WizardStep",(function(){return o.a}));var s={install:function(e){e.component("form-wizard",n.a),e.component("tab-content",r.a),e.component("wizard-button",a.a),e.component("wizard-step",o.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(s),t.default=s},function(e,t,i){"use strict";function n(e){i(9)}var r=i(1),a=i(15),o=i(0),s=n,l=o(r.a,a.a,!1,s,null,null);t.a=l.exports},function(e,t){},function(e,t){},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[e._t("default")],2)},r=[],a={render:n,staticRenderFns:r};t.a=a},function(e,t){},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{class:{active:e.tab.active}},[i("a",{class:{disabled:!e.tab.checked},attrs:{href:"javascript:void(0)"}},[i("div",{staticClass:"wizard-icon-circle md",class:{checked:e.tab.checked,square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.checked?e.stepCheckedStyle:{},e.tab.validationError?e.errorStyle:{}],attrs:{role:"tab",tabindex:e.tab.checked?0:"",id:"step-"+e.tab.tabId,"aria-controls":e.tab.tabId,"aria-disabled":e.tab.active,"aria-selected":e.tab.active}},[i("transition",{attrs:{name:e.transition,mode:"out-in"}},[e.tab.active?i("div",{staticClass:"wizard-icon-container",class:{square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.active?e.iconActiveStyle:{},e.tab.validationError?e.errorStyle:{}]},[e._t("active-step",[e.tab.icon?i("i",{staticClass:"wizard-icon",class:e.tab.icon}):i("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2):e._e(),e._v(" "),e.tab.active?e._e():e._t("default",[!e.tab.active&&e.tab.icon?i("i",{staticClass:"wizard-icon",class:e.tab.icon}):e._e(),e._v(" "),e.tab.active||e.tab.icon?e._e():i("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2)],1),e._v(" "),e._t("title",[i("span",{staticClass:"stepTitle",class:{active:e.tab.active,has_error:e.tab.validationError},style:e.tab.active?e.stepTitleStyle:{}},[e._v("\n            "+e._s(e.tab.title)+"\n      ")])])],2)])},r=[],a={render:n,staticRenderFns:r};t.a=a},function(e,t,i){"use strict";function n(){return document.activeElement.id}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n();return e.findIndex((function(e){return e.tabId===t}))}function a(e){document.getElementById(e).focus()}function o(e){return e.then&&"function"==typeof e.then}t.b=r,t.a=a,t.c=o},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-form-wizard",class:[e.stepSize,{vertical:e.isVertical}],on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"right",39,t.key)?"button"in t&&2!==t.button?null:void e.focusNextTab(t):null},function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.focusPrevTab(t):null}]}},[i("div",{staticClass:"wizard-header"},[e._t("title",[i("h4",{staticClass:"wizard-title"},[e._v(e._s(e.title))]),e._v(" "),i("p",{staticClass:"category"},[e._v(e._s(e.subtitle))])])],2),e._v(" "),i("div",{staticClass:"wizard-navigation"},[e.isVertical?e._e():i("div",{staticClass:"wizard-progress-with-circle"},[i("div",{staticClass:"wizard-progress-bar",style:e.progressBarStyle})]),e._v(" "),i("ul",{staticClass:"wizard-nav wizard-nav-pills",class:e.stepsClasses,attrs:{role:"tablist"}},[e._l(e.tabs,(function(t,n){return e._t("step",[i("wizard-step",{attrs:{tab:t,"step-size":e.stepSize,transition:e.transition,index:n},nativeOn:{click:function(t){e.navigateToTab(n)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.navigateToTab(n)}}})],{tab:t,index:n,navigateToTab:e.navigateToTab,stepSize:e.stepSize,transition:e.transition})}))],2),e._v(" "),i("div",{staticClass:"wizard-tab-content"},[e._t("default",null,null,e.slotProps)],2)]),e._v(" "),e.hideButtons?e._e():i("div",{staticClass:"wizard-card-footer clearfix"},[e._t("footer",[i("div",{staticClass:"wizard-footer-left"},[e.displayPrevButton?i("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.prevTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.prevTab(t)}}},[e._t("prev",[i("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n              "+e._s(e.backButtonText)+"\n            ")])],null,e.slotProps)],2):e._e(),e._v(" "),e._t("custom-buttons-left",null,null,e.slotProps)],2),e._v(" "),i("div",{staticClass:"wizard-footer-right"},[e._t("custom-buttons-right",null,null,e.slotProps),e._v(" "),e.isLastStep?i("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("finish",[i("wizard-button",{style:e.fillButtonStyle},[e._v("\n              "+e._s(e.finishButtonText)+"\n            ")])],null,e.slotProps)],2):i("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("next",[i("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n            "+e._s(e.nextButtonText)+"\n           ")])],null,e.slotProps)],2)],2)],null,e.slotProps)],2)])},r=[],a={render:n,staticRenderFns:r};t.a=a},function(e,t,i){"use strict";var n=i(6),r=i(17),a=i(0),o=a(n.a,r.a,!1,null,null,null);t.a=o.exports},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:e.tabId,"aria-hidden":!e.active,"aria-labelledby":"step-"+e.tabId}},[e._t("default",null,{active:e.active})],2)},r=[],a={render:n,staticRenderFns:r};t.a=a}])}))},"394d":function(e,t,i){},6108:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("form-wizard",{ref:"formWizardRef",staticClass:"frm-wzrd",attrs:{"step-size":"xs",color:"#324157",title:"New Course",subtitle:""},on:{"on-complete":e.onComplete}},[i("tab-content",{staticClass:"tb-cnt",attrs:{"before-change":e.checkStepOne,title:"Initiate coure",icon:"el-icon-folder-add"}},[i("stepOne",{ref:"stepOneRef"})],1),i("tab-content",{staticClass:"tb-cnt",attrs:{icon:"el-icon-notebook-2",title:"Create chaptes","before-change":e.checkStepTwo}},[i("stepTwo",{ref:"stepTwoRef"})],1),i("tab-content",{staticClass:"tb-cnt",attrs:{icon:"el-icon-document-add",title:"Add units","before-change":e.inStepThree}},[i("stepThree")],1),i("tab-content",{staticClass:"tb-cnt",attrs:{icon:"el-icon-finished",title:"Preview and Save"}},[i("stepFour")],1),e.counter>0?i("el-button",{attrs:{slot:"custom-buttons-left",size:"medium",type:"danger"},on:{click:function(t){return e.resetAllForms()}},slot:"custom-buttons-left"},[e._v("Cancel ")]):e._e(),i("el-dialog",{attrs:{title:"",visible:e.cancelDialogVisible,width:"30%"},on:{"update:visible":function(t){e.cancelDialogVisible=t}}},[i("span",[e._v("Are you sure want to cancel new course creation?")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.cancelDialogVisible=!1}}},[e._v("No")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmed()}}},[e._v("Yes")])],1)])],1),i("finish",{ref:"finishAllRef",on:{resetAllW:function(t){return e.confirmed()}}})],1)},r=[],a=(i("d3b7"),i("2ee4")),o=(i("da93"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{staticClass:"step-one-body",staticStyle:{height:"100%","overflow-y":"auto"}},[i("el-col",{staticStyle:{border:"0px solid red"},attrs:{xs:{span:24,offset:0},sm:{span:24,offset:0},md:{span:18,offset:3},lg:{span:14,offset:5}}},[i("el-form",{ref:"stepOneFormRef",attrs:{rules:e.rules,model:e.stepOneForm}},[i("el-form-item",[i("el-col",{attrs:{sm:{span:18,offset:3},xs:{span:24,offset:0},md:{span:20,offset:2},lg:{span:14,offset:5}}},[i("el-form-item",{attrs:{label:"Course title",prop:"courseTitle"}},[i("el-input",{attrs:{placeholder:"Some title ..."},model:{value:e.stepOneForm.courseTitle,callback:function(t){e.$set(e.stepOneForm,"courseTitle",t)},expression:"stepOneForm.courseTitle"}})],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{sm:{span:18,offset:3},xs:{span:24,offset:0},md:{span:20,offset:2},lg:{span:14,offset:5}}},[i("el-form-item",{attrs:{label:"Course price",prop:"price"}},[i("el-input",{attrs:{type:"number",min:0,placeholder:"Course price"},model:{value:e.stepOneForm.price,callback:function(t){e.$set(e.stepOneForm,"price",t)},expression:"stepOneForm.price"}})],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{sm:{span:18,offset:3},xs:{span:24,offset:0},md:{span:20,offset:2},lg:{span:14,offset:5}}},[i("el-form-item",{attrs:{label:"Starting date",prop:"startingDate"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"Starting date","value-format":"timestamp"},model:{value:e.stepOneForm.startingDate,callback:function(t){e.$set(e.stepOneForm,"startingDate",t)},expression:"stepOneForm.startingDate"}})],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{sm:{span:18,offset:3},xs:{span:24,offset:0},md:{span:20,offset:2},lg:{span:14,offset:5}}},[i("el-form-item",{attrs:{label:"Course description",prop:"description"}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Short about course"},model:{value:e.stepOneForm.description,callback:function(t){e.$set(e.stepOneForm,"description",t)},expression:"stepOneForm.description"}})],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{sm:{span:18,offset:3},xs:{span:24,offset:0},md:{span:20,offset:2},lg:{span:14,offset:5}}},[i("el-form-item",{attrs:{label:" ",prop:"file"}},[i("el-upload",{ref:"uploadVideo",staticClass:"upload-demo",attrs:{name:"resource","auto-upload":!1,"on-remove":e.removingFile,accept:"video/*","before-remove":e.checkIfResouceCanBeDeleted,action:"string","http-request":e.uploadPreviewVideo,"file-list":e.fileList,multiple:!1,"on-change":e.fileChanged}},[i("el-button",{staticStyle:{"font-size":"20px",color:"green"},attrs:{slot:"trigger",size:"medium",type:"text",icon:"el-icon-video-camera-solid"},slot:"trigger"}),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" choose your preview video for the course ")])],1)],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{sm:{span:18,offset:3},xs:{span:24,offset:0},md:{span:20,offset:2},lg:{span:14,offset:5}}},[i("el-form-item",{attrs:{label:" ",prop:"imageFile"}},[i("el-upload",{ref:"uploadImage",staticClass:"upload-demo",attrs:{name:"resource","auto-upload":!1,"on-remove":e.removingImageFile,accept:"image/*","before-remove":e.checkIfImageResouceCanBeDeleted,action:"string","http-request":e.uploadImagePreviewVideo,"file-list":e.fileImageList,multiple:!1,"on-change":e.fileImageChanged}},[i("el-button",{staticStyle:{"font-size":"20px",color:"green"},attrs:{slot:"trigger",size:"medium",type:"text",icon:"el-icon-camera-solid"},slot:"trigger"}),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" choose an image to display on preview video card ")])],1)],1)],1)],1)],1)],1)],1)}),s=[],l=(i("3ca3"),i("ddb0"),i("2b3d"),i("b0c0"),i("bc3a")),c=i.n(l),u=i("1efc"),d={methods:{uploadImagePreviewVideo:function(e){this.cancelTokenSource=c.a.CancelToken.source();var t=new FormData;t.append("resource",e.file),console.log("this is upload data: ",t),Object(u["d"])({cancelTokenSource:this.cancelTokenSource,formData:t}).then((function(t){console.log(t.data),e.onSuccess()})).catch((function(t){e.onError(t)}))},checkIfImageResouceCanBeDeleted:function(e,t){return new Promise((function(t,i){Object(u["a"])(e.name).then((function(e){console.log(e.data),t(!0)})).catch((function(e){console.error(e),i(!1)}))}))},removingImageFile:function(e,t){this.cancelTokenSource.cancel(),this.stepOneForm.imageFile=null,this.stepOneForm.localImageUrl=null,this.fileImageList=[]},fileImageChanged:function(e,t){if("ready"===e.status){if(this.stepOneForm.localImageUrl=this.getLocalUrl(e),console.log("local image url: ",this.stepOneForm.localImageUrl),this.stepOneForm.imageFile=e,console.log("file: ",e),this.fileImageList.push(e),this.fileImageList.length>1){var i=this.fileImageList.shift();Object(u["a"])(i.name).then((function(e){console.log(e.data)})).catch((function(e){return console.error(e)}))}this.$store.commit("newCourse/SET_THUMBNAIL_OF_VIDEO",e)}},validateForImageForm:function(){var e=this,t=!1;return this.$refs.stepOneFormRef.validate((function(i){return t=i&&e.fileImageList.length>0,console.log(e.fileImageList.length>0),!!i})),t}}},p={methods:{uploadPreviewVideo:function(e){this.cancelTokenSource=c.a.CancelToken.source();var t=new FormData;t.append("resource",e.file),console.log("this is upload data: ",t),Object(u["d"])({cancelTokenSource:this.cancelTokenSource,formData:t}).then((function(t){console.log(t.data),e.onSuccess()})).catch((function(t){e.onError(t)}))},checkIfResouceCanBeDeleted:function(e,t){return new Promise((function(t,i){Object(u["a"])(e.name).then((function(e){console.log(e.data),t(!0)})).catch((function(e){console.error(e),i(!1)}))}))},removingFile:function(e,t){this.cancelTokenSource.cancel(),this.stepOneForm.file=null,this.stepOneForm.videoFileName="",this.fileList=[]},fileChanged:function(e,t){if("ready"===e.status){if(this.stepOneForm.localPlayUrl=this.getLocalUrl(e),this.stepOneForm.videoFileName=e.name,this.stepOneForm.file=e,console.log("file: ",e),this.fileList.push(e),this.fileList.length>1){var i=this.fileList.shift();Object(u["a"])(i.name).then((function(e){console.log(e.data)})).catch((function(e){return console.error(e)}))}this.$store.commit("newCourse/SET_COURSE_PREVIEW_VIDEO",e)}},validateForVideoForm:function(){var e=this,t=!1;return this.$refs.stepOneFormRef.validate((function(i){return t=i&&e.fileList.length>0,console.log(e.fileList.length>0),!!i})),t}}},f={mixins:[d,p],data:function(){return{stepOneForm:{courseTitle:"",description:"",file:null,price:null,localPlayUrl:null,videoFileName:"",imageFile:null,localImageUrl:null,startingDate:null},cancelTokenSource:null,uploadUrl:"https://djessme.com",fileList:[],fileImageList:[],rules:{startingDate:[{required:!0,message:"Please select starting date",trigger:"change"}],price:[{required:!0,message:"Please enter course price",trigger:"change"}],courseTitle:[{required:!0,trigger:"change",message:"Please give a title"}],file:[{validator:function(e,t,i){if(null===t)return i(new Error);i()},required:!0,trigger:"change",message:"Please select preview video"}],imageFile:[{validator:function(e,t,i){if(null===t)return i(new Error);i()},required:!0,trigger:"change",message:"Please select thubmnail for preview video"}]}}},methods:{getLocalUrl:function(e){var t=window.URL.createObjectURL(e.raw);return t},resetFields:function(){this.$refs.stepOneFormRef.resetFields(),this.fileList=[],this.fileImageList=[],this.$store.commit("newCourse/SET_COURSE_PREVIEW_VIDEO",null),this.$store.commit("newCourse/SET_THUMBNAIL_OF_VIDEO",null),this.$store.commit("newCourse/SET_COURSE_TEXT_INFO_RESET")},validateForm:function(){return!(!this.validateForImageForm()||!this.validateForVideoForm())&&(console.log("starting date: ",this.stepOneForm.startingDate),this.$store.commit("newCourse/SET_COURSE_TEXT_INFO",this.stepOneForm),!0)}}},h=f,m=(i("d106"),i("2877")),v=Object(m["a"])(h,o,s,!1,null,null,null),b=v.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{staticClass:"step-two-body",staticStyle:{height:"100%","overflow-y":"auto",border:"0px solid red"}},[i("el-col",{staticStyle:{"margin-bottom":"1rem"},attrs:{span:10,offset:7}},[i("el-button",{staticStyle:{border:"1px solid transparent","font-weight":"bold"},attrs:{icon:"el-icon-plus"},on:{click:function(t){e.newCourseDialogVisible=!0}}},[e._v("New chapter")])],1),i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:10,offset:7}},[0===e.$store.state.newCourse.chapters.length?i("p",{staticStyle:{color:"gray"}},[e._v(" There is no chapter ")]):e._l(e.$store.state.newCourse.chapters,(function(t){return i("el-card",{key:t.id,staticStyle:{"margin-bottom":"1rem"},attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{"font-size":"16","font-weight":"bold"}},[e._v(e._s(t.chapterTitle))]),i("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"}}),i("el-button",{staticStyle:{"margin-right":"1rem",float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.editChapter(t.id)}}})],1),i("div",{staticClass:"text item"},[e._v(" "+e._s(t.chapterDescription)+" ")])])}))],2),i("el-dialog",{attrs:{title:"New course",visible:e.newCourseDialogVisible,width:"40%",align:"center","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.newCourseDialogVisible=t}}},[i("el-row",{staticStyle:{width:"100%",height:"100%",border:"0px solid red"}},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"addFormRef",attrs:{model:e.newChapterForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"Chapter title",prop:"chapterTitle"}},[i("el-input",{model:{value:e.newChapterForm.chapterTitle,callback:function(t){e.$set(e.newChapterForm,"chapterTitle",t)},expression:"newChapterForm.chapterTitle"}})],1),i("el-form-item",{attrs:{label:"Chapter description",prop:"chapterDescription"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.newChapterForm.chapterDescription,callback:function(t){e.$set(e.newChapterForm,"chapterDescription",t)},expression:"newChapterForm.chapterDescription"}})],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.cancelAddingNewChapter()}}},[e._v("Cancel")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.validateAddNewChapterForm()}}},[e._v("Add")])],1)],1),i("el-dialog",{attrs:{"show-close":!1,align:"center","close-on-click-modal":!1,"close-on-press-escape":!1,title:"Edit Chapter",width:"40%",visible:e.editChapterDialog},on:{"update:visible":function(t){e.editChapterDialog=t},open:function(t){return e.setupDialogOptionsToEdit()}}},[i("el-row",[i("el-form",{ref:"editChapterFormRef",attrs:{model:e.editedChapterForm,rules:e.editRules}},[i("el-form-item",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"chapterTitle",label:"Chapter title"}},[i("el-input",{attrs:{placeholder:"Chapter title"},model:{value:e.editedChapterForm.chapterTitle,callback:function(t){e.$set(e.editedChapterForm,"chapterTitle",t)},expression:"editedChapterForm.chapterTitle"}})],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"chapterDescription",label:"Chapter description"}},[i("el-input",{attrs:{placeholder:"Chapter description"},model:{value:e.editedChapterForm.chapterDescription,callback:function(t){e.$set(e.editedChapterForm,"chapterDescription",t)},expression:"editedChapterForm.chapterDescription"}})],1)],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.cancelEdit()}}},[e._v("Cancel")]),i("el-button",{on:{click:function(t){return e.saveEditedChapter()}}},[e._v("Save")])],1)],1)],1)},C=[],_=(i("c740"),i("5c96")),w={components:{},data:function(){return{editedChapterForm:{chapterTitle:"",chapterDescription:""},editRules:{chapterTitle:[{required:!0,trigger:"change",message:"Please enter title to for chapter"}]},editChapterDialog:!1,newCourseDialogVisible:!1,newChapterForm:{chapterTitle:"",chapterDescription:""},rules:{chapterTitle:[{required:!0,trigger:"change",message:"Please give a title to new chapter"}]}}},methods:{saveEditedChapter:function(){var e=this;this.$refs.editChapterFormRef.validate((function(t){if(!t)return!1;e.editedChapterForm.id=e.$store.state.newCourse.currentEditingChapterId,e.$store.commit("newCourse/EDIT_CHAPTER",e.editedChapterForm),e.editChapterDialog=!1}))},setupDialogOptionsToEdit:function(e){var t=this,i=this.$store.state.newCourse.chapters.findIndex((function(e){return e.id===t.$store.state.newCourse.currentEditingChapterId})),n={};n.chapterTitle=this.$store.state.newCourse.chapters[i].chapterTitle+"",n.chapterDescription=this.$store.state.newCourse.chapters[i].chapterDescription+"",this.editedChapterForm.chapterTitle=n.chapterTitle+"",this.editedChapterForm.chapterDescription=n.chapterDescription+""},cancelEdit:function(){this.editChapterDialog=!1},editChapter:function(e){console.log("ID CHPATER: ",e),this.$store.commit("newCourse/SET_CURRENT_CHAPTER",e),this.editChapterDialog=!0},validateStepTwo:function(){return 0===this.$store.state.newCourse.chapters.length&&Object(_["Message"])({message:"Add at least one chapter",type:"warning",duration:2500}),this.$store.state.newCourse.chapters.length>0},cancelAddingNewChapter:function(){this.$refs.addFormRef.resetFields(),this.newChapterForm={chapterTitle:"",chapterDescription:""},this.newCourseDialogVisible=!1},addNewChapter:function(){this.$store.commit("newCourse/ADD_CHAPTER",{chapterTitle:this.newChapterForm.chapterTitle,chapterDescription:this.newChapterForm.chapterDescription}),this.cancelAddingNewChapter()},validateAddNewChapterForm:function(){var e=this;this.$refs.addFormRef.validate((function(t){if(!t)return!1;e.addNewChapter()}))}}},T=w,y=(i("def7"),Object(m["a"])(T,g,C,!1,null,null,null)),S=y.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",[i("el-col",{attrs:{span:12,offset:6}},[i("el-select",{attrs:{placeholder:"Chapters"},model:{value:e.currentChapterID,callback:function(t){e.currentChapterID=t},expression:"currentChapterID"}},e._l(e.chapters,(function(e){return i("el-option",{key:e.id,attrs:{label:e.chapterTitle,value:e.id}})})),1),i("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"1rem"},attrs:{effect:"dark",content:"Add new unit",placement:"top"}},[i("el-button",{staticStyle:{border:"1px solid transparent"},attrs:{disabled:null===e.currentChapterID,icon:"el-icon-plus"},on:{click:function(t){e.addUnitDialog=!0}}})],1),i("div",{staticStyle:{display:"block"}},[i("span",{staticStyle:{color:"gray"}},[e._v(" Current chapter: ")]),i("h3",{staticStyle:{display:"inline"}},[e._v(e._s(e.currentChapterTitle))])])],1),i("el-col",{attrs:{span:24}},[i("el-divider")],1),i("el-col",{attrs:{span:12,offset:6}},[0===e.currentUnits.length?i("p",{staticStyle:{color:"gray"}},[e._v(" There is no unit ")]):e._l(e.currentUnits,(function(t){return i("el-card",{key:t.id,staticStyle:{"margin-bottom":"1rem"},attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{"font-size":"16","font-weight":"bold"}},[e._v(e._s(t.unitTitle))]),i("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"}}),i("el-button",{staticStyle:{"margin-right":"1rem",float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.openEditUnitDialog(t.id)}}})],1),i("div",{staticClass:"text item"},[e._v(" "+e._s(t.unitDescription)+" ")]),i("div",{staticClass:"text item"},[i("span",[e._v("Video: ")]),e._v(e._s(t.unitVideo.name)+" ")]),i("div",{staticClass:"text item"},[i("span",[e._v("Resources: ")]),e._l(t.unitResources,(function(t,n){return i("div",{key:n},[e._v(" "+e._s(t.name)+" ")])}))],2)])}))],2),i("el-dialog",{attrs:{title:"New unit",top:"30px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,align:"",visible:e.addUnitDialog,width:"40%"},on:{"update:visible":function(t){e.addUnitDialog=t}}},[i("el-row",{staticStyle:{width:"100%",height:"100%",border:"0px solid red"}},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"addUnitFormRef",attrs:{model:e.newUnit,rules:e.rules}},[i("el-form-item",{attrs:{label:"Unit title",prop:"unitTitle"}},[i("el-input",{model:{value:e.newUnit.unitTitle,callback:function(t){e.$set(e.newUnit,"unitTitle",t)},expression:"newUnit.unitTitle"}})],1),i("el-form-item",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:" ",prop:"unitVideo"}},[i("span",{staticStyle:{"font-weight":"bolder"}},[e._v("Video")]),i("el-upload",{ref:"uploadStepThree",staticClass:"upload-demo",staticStyle:{"text-align":"center",padding:"1rem",border:"1px solid #dadada","border-radius":"8px"},attrs:{name:"resource","auto-upload":!1,"http-request":e.uploadResouces,"on-remove":e.removingUnitVideo,accept:"video/*",action:"string","file-list":e.fileList,multiple:!1,"on-change":e.fileChanged}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("Video")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Choose unit video ")])],1)],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"",prop:"file"}},[i("span",{staticStyle:{"font-weight":"bolder"}},[e._v("Resources")]),i("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{"text-align":"center",padding:"1rem",border:"1px solid #dadada","border-radius":"8px"},attrs:{"auto-upload":!1,multiple:!0,name:"resource",action:"string","http-request":e.uploadResouces,"on-change":e.resourceSelected,"on-remove":e.resFileRemoved,"file-list":e.resourceFileList}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("Add resources")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" These resources will be attached to current unit ")])],1)],1)],1)],1),i("el-form-item",{attrs:{label:"Unit description",prop:"unitDescription"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.newUnit.unitDescription,callback:function(t){e.$set(e.newUnit,"unitDescription",t)},expression:"newUnit.unitDescription"}})],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.cancelAddingUnit()}}},[e._v("Cancel")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmUnitAddForm()}}},[e._v("Add unit")])],1)],1),i("editUnit")],1)},E=[],U=(i("7db0"),i("4160"),i("159b"),i("5530")),F=i("2f62"),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"Edit unit",top:"30px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,align:"",visible:e.$store.state.newCourse.editUnitDialog,width:"40%"},on:{"update:visible":function(t){return e.$set(e.$store.state.newCourse,"editUnitDialog",t)},open:e.editUnitDialogOpened}},[i("el-row",{staticStyle:{width:"100%",height:"100%",border:"0px solid red"}},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"E_addUnitFormRef",attrs:{model:e.E_newUnit,rules:e.E_rules}},[i("el-form-item",{attrs:{label:"Unit title",prop:"unitTitle"}},[i("el-input",{model:{value:e.E_newUnit.unitTitle,callback:function(t){e.$set(e.E_newUnit,"unitTitle",t)},expression:"E_newUnit.unitTitle"}})],1),i("el-form-item",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:" ",prop:"unitVideo"}},[i("span",{staticStyle:{"font-weight":"bolder"}},[e._v("Video")]),i("el-upload",{ref:"_uploadStepThree",staticClass:"upload-demo",staticStyle:{"text-align":"center",padding:"1rem",border:"1px solid #dadada","border-radius":"8px"},attrs:{name:"resource","auto-upload":!0,"before-remove":e.E_checkIfResouceCanBeDeleted,"on-remove":e.E_removingUnitVideo,accept:"video/*",action:"string","http-request":e.uploadResouces,"file-list":e.E_fileList,multiple:!1,"on-change":e.E_fileChanged}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("Video")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("Choose unit video")])],1)],1)],1)],1),i("el-form-item",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"",prop:"file"}},[i("span",{staticStyle:{"font-weight":"bolder"}},[e._v("Resources")]),i("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{"text-align":"center",padding:"1rem",border:"1px solid #dadada","border-radius":"8px"},attrs:{"auto-upload":!0,multiple:!0,name:"resource",action:"string","http-request":e.uploadResouces,"on-change":e.E_resourceSelected,"on-remove":e.E_resFileRemoved,"file-list":e.E_resource_FileList}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("Add resources")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" These resources will be attached to current unit ")])],1)],1)],1)],1),i("el-form-item",{attrs:{label:"Unit description",prop:"unitDescription"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.E_newUnit.unitDescription,callback:function(t){e.$set(e.E_newUnit,"unitDescription",t)},expression:"E_newUnit.unitDescription"}})],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.cancelEditingUnit()}}},[e._v("Cancel")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmUnitEditForm()}}},[e._v("Save")])],1)],1)},O=[];function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function D(e){if(Array.isArray(e))return k(e)}i("a4d3"),i("e01a"),i("d28b"),i("a630");function R(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}i("fb6a"),i("25f0");function $(e,t){if(e){if("string"===typeof e)return k(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?k(e,t):void 0}}function L(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e){return D(e)||R(e)||$(e)||L()}var V={data:function(){return{currentChapterID:null,addUnitDialog:!1,currentChapterIndex:0,currentUnitIndex:0,cancelTokenSource:{},E_newUnit:{unitTitle:"",unitDescription:"",unitResources:[],unitResourcesNames:[],unitVideo:"",videoFileName:"",localPlayUrl:""},E_fileList:[],E_resource_FileList:[],E_rules:{unitVideo:[{validator:function(e,t,i){return""===t?i(new Error):i()},trigger:"change",required:!0,message:"Please select unit video"}],unitTitle:[{required:!0,message:"Please give title to new unit",trigger:"change"}]}}},computed:Object(U["a"])(Object(U["a"])({},Object(F["c"])("newCourse",["units"])),{},{currentUnits:function(){return null!==this.currentChapterID?this.units(this.currentChapterID):[]}}),methods:{uploadResouces:function(e){this.cancelTokenSource[e.file.name]=c.a.CancelToken.source();var t=new FormData;t.append("resource",e.file),console.log("this is upload data: ",t),Object(u["d"])({cancelTokenSource:this.cancelTokenSource[e.file.name],formData:t}).then((function(t){console.log(t.data),e.onSuccess()})).catch((function(t){e.onError(t)}))},editUnitDialogOpened:function(){var e=this,t=this.$store.state.newCourse.chapters.findIndex((function(t){return t.id===e.$store.state.newCourse.currentChapterId})),i=this.$store.state.newCourse.chapters[t].units,n=i.findIndex((function(t){return t.id===e.$store.state.newCourse.currentUnitId})),r=i[n],a={};a.unitTitle=r.unitTitle+"",a.unitDescription=r.unitDescription+"",a.unitResources=r.unitResources,a.unitResourcesNames=r.unitResourcesNames,a.unitVideo=r.unitVideo,a.videoFileName=r.videoFileName,this.E_fileList=[r.unitVideo],this.E_resource_FileList=j(r.unitResources),this.E_newUnit=Object(U["a"])({},a),this.currentUnitIndex=n,this.currentChapterIndex=t},E_checkIfResouceCanBeDeleted:function(e,t){return new Promise((function(t,i){Object(u["a"])(e.name).then((function(e){console.log(e.data),t(!0)})).catch((function(e){console.error(e),i(!1)}))}))},E_resourceSelected:function(e,t){this.E_resource_FileList=t},E_resFileRemoved:function(e,t){var i=this;this.E_resource_FileList=t,this.cancelTokenSource[e.name].cancel(),Object(u["a"])(e.name).then((function(e){i.$notify({title:"Success",message:e.data,type:"success"})})).catch((function(e){i.$notify({title:"Error",message:e.response.data,type:"error"})}))},E_removingUnitVideo:function(e,t){this.cancelTokenSource[e.name].cancel(),this.E_newUnit.unitVideo=null,this.E_fileList=[],this.newUnit.videoFileName="",this.newUnit.localPlayUrl="",this.$refs.E_addUnitFormRef.validate((function(e){if(!e)return!1}))},getLocalUrl:function(e){var t=window.URL.createObjectURL(e.raw);return t},E_fileChanged:function(e,t){if("ready"===e.status){if(this.E_newUnit.unitVideo=e,this.E_newUnit.localPlayUrl=this.getLocalUrl(e),this.E_newUnit.videoFileName=e.name,this.E_fileList.push(e),this.E_fileList.length>1){var i=this.E_fileList.shift();console.log("shifted data: ",i),Object(u["a"])(i.name).then((function(e){console.log(e.data)})).catch((function(e){return console.error(e)}))}console.log("after length: ",this.E_fileList.length),this.$refs.E_addUnitFormRef.validate((function(e){if(!e)return!1}))}},chapterChanged:function(e){},saveEdits:function(){var e=this;this.E_newUnit.unitResources=[],this.E_newUnit.unitResourcesNames=[],console.log("resources: "),this.E_resource_FileList.forEach((function(t){console.dir(t),e.E_newUnit.unitResources.push(t),e.E_newUnit.unitResourcesNames.push(t.name)})),this.E_newUnit.localPlayUrl=this.getLocalUrl(this.E_newUnit.unitVideo);var t={unitTitle:this.E_newUnit.unitTitle,unitDescription:this.E_newUnit.unitDescription,unitResources:this.E_newUnit.unitResources,unitVideo:this.E_newUnit.unitVideo,chapterIndex:this.currentChapterIndex,unitIndex:this.currentUnitIndex,localPlayUrl:this.E_newUnit.localPlayUrl,unitResourcesNames:this.E_newUnit.unitResourcesNames,videoFileName:this.E_newUnit.videoFileName};console.log("E_newUnitObj: ",t),this.$store.commit("newCourse/EDIT_UNIT",t),this.cancelEditingUnit()},cancelEditingUnit:function(){this.$store.commit("newCourse/SET_DIALOG_TRIGGER",{name:"editUnitDialog",value:!1}),this.$refs.E_addUnitFormRef.resetFields(),this.E_newUnit={unitTitle:"",unitDescription:"",unitResources:[],unitVideo:null,videoFileName:"",localPlayUrl:"",unitResourcesNames:[]},this.E_fileList=[],this.E_resource_FileList=[]},confirmUnitEditForm:function(){var e=this;this.$refs.E_addUnitFormRef.validate((function(t){if(console.log("is unit valid: ",t),!t)return!1;e.saveEdits()}))}}},N=V,P=Object(m["a"])(N,I,O,!1,null,null,null),A=P.exports,z={components:{editUnit:A},data:function(){return{currentChapterID:null,addUnitDialog:!1,newUnit:{unitTitle:"",unitDescription:"",unitResources:[],unitResourcesNames:[],unitVideo:"",localPlayUrl:"",videoFileName:""},cancelTokenSource:{},fileList:[],resourceFileList:[],rules:{unitVideo:[{validator:function(e,t,i){return""===t?i(new Error):i()},trigger:"change",required:!0,message:"Please select unit video"}],unitTitle:[{required:!0,message:"Please give title to new unit",trigger:"change"}]}}},computed:Object(U["a"])(Object(U["a"])(Object(U["a"])({},Object(F["e"])("newCourse",["chapters"])),Object(F["c"])("newCourse",["units"])),{},{currentChapterTitle:function(){var e=this;if(null!==this.currentChapterID){var t=this.chapters.find((function(t){return t.id===e.currentChapterID}));return void 0===t?"":t.chapterTitle}return""},currentUnits:function(){return null!==this.currentChapterID?this.units(this.currentChapterID):[]}}),methods:{uploadResouces:function(e){this.cancelTokenSource[e.file.name]=c.a.CancelToken.source();var t=new FormData;t.append("resource",e.file),console.log("this is upload data: ",t),Object(u["d"])({cancelTokenSource:this.cancelTokenSource[e.file.name],formData:t}).then((function(t){console.log(t.data),e.onSuccess()})).catch((function(t){e.onError(t)}))},openEditUnitDialog:function(e){console.log("Current unit id: ",e),this.$store.commit("newCourse/SET_DIALOG_TRIGGER",{name:"editUnitDialog",value:!0}),this.$store.commit("newCourse/SET_CURRENT_CHAPTER_E",this.currentChapterID),this.$store.commit("newCourse/SET_CURRENT_UNIT_E",e)},resourceSelected:function(e,t){this.resourceFileList=t},resFileRemoved:function(e,t){this.cancelTokenSource[e.name].cancel(),this.resourceFileList=t,this.deleteFile(e.name)},removingUnitVideo:function(e,t){this.cancelTokenSource[e.name].cancel(),this.newUnit.unitVideo=null,this.newUnit.videoFileName="",this.newUnit.localPlayUrl="",this.fileList=[],this.deleteFile(e.name),this.$refs.addUnitFormRef.validate((function(e){if(!e)return!1}))},deleteFile:function(e){var t=this;Object(u["a"])(e).then((function(e){t.$notify({title:"Success",message:e.data.message,type:"success"})})).catch((function(e){t.$notify({title:"Error",message:e.response.data,type:"error"})}))},getLocalUrl:function(e){var t=window.URL.createObjectURL(e.raw);return t},fileChanged:function(e,t){if("ready"===e.status){if(this.newUnit.unitVideo=e,this.newUnit.localPlayUrl=this.getLocalUrl(e),this.newUnit.videoFileName=e.name,this.fileList.push(e),this.fileList.length>1){var i=this.fileList.shift();console.log("shifted data: ",i),this.deleteFile(i.name)}console.log("after length: ",this.fileList.length),this.$refs.addUnitFormRef.validate((function(e){if(!e)return!1}))}},chapterChanged:function(e){},addUnit:function(){var e=this;console.log("resources: "),this.resourceFileList.forEach((function(t){e.newUnit.unitResources.push(t),e.newUnit.unitResourcesNames.push(t.name)}));var t={chapterId:this.currentChapterID,unitTitle:this.newUnit.unitTitle,unitDescription:this.newUnit.unitDescription,unitResources:this.newUnit.unitResources,unitResourcesNames:this.newUnit.unitResourcesNames,unitVideo:this.newUnit.unitVideo,localPlayUrl:this.newUnit.localPlayUrl,videoFileName:this.newUnit.videoFileName};this.$store.commit("newCourse/ADD_UNIT",t),this.cancelAddingUnit()},cancelAddingUnit:function(){this.addUnitDialog=!1,this.$refs.addUnitFormRef.resetFields(),this.newUnit={unitTitle:"",unitDescription:"",unitResources:[],unitVideo:null,videoFileName:"",localPlayUrl:"",unitResourcesNames:[]},this.fileList=[],this.resourceFileList=[]},confirmUnitAddForm:function(){var e=this;this.$refs.addUnitFormRef.validate((function(t){if(console.log("is unit valid: ",t),!t)return!1;e.addUnit()}))}}},B=z,q=Object(m["a"])(B,x,E,!1,null,null,null),W=q.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{staticStyle:{border:"0px solid orange",height:"100%","overflow-y":"scroll",padding:"5rem 0"}},[i("el-col",{attrs:{xs:{span:24,offset:0},sm:{span:20,offset:2},lg:{span:18,offset:3},xl:{span:16,offset:4}}},[e.isShowingCourseOverview?i("el-col",{staticStyle:{},attrs:{xs:{span:24,offset:0},sm:{span:20,offset:2},lg:{span:20,offset:2},xl:{span:18,offset:3}}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("This is course preview card")]),i("courseOverviewCard")],1):e._e(),e.isShowingCourseOverview?e._e():i("el-col",{staticClass:"backButton",staticStyle:{height:"2rem",border:"0px solid green"},attrs:{span:24}},[i("el-button",{attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:function(t){return e.$store.commit("newCourse/TOGLLE_PREVIEWMODE",!0)}}},[e._v(" Course card ")])],1),e.isShowingCourseOverview?e._e():i("el-col",{staticClass:"main-part",staticStyle:{border:"0px solid green",height:"calc(100% - 2rem)","overflow-y":"auto"},attrs:{span:14}},[i("div",{staticClass:"video-and-description"},[i("div",{staticClass:"video"},[i("el-col",[i("video",{ref:"videoFile",staticClass:"myvideo",staticStyle:{height:"100%"},attrs:{width:"100%",controls:"",src:e.currentVideoUrl+"",type:"video/quicktime"}},[i("source",{attrs:{src:e.currentVideoUrl+"",type:"video/quicktime"}}),e._v(" Your browser does not support HTML5 video. ")])])],1),i("div",{staticClass:"descriotions"},[e._v(" chapter descr: "+e._s(e.currentChapter.chapterDescription)+" ")]),i("div",{staticClass:"descriotions"},[e._v(" unit descr: "+e._s(e.currentUnitDescription)+" ")])])]),e.isShowingCourseOverview?e._e():i("el-col",{staticStyle:{border:"0px solid black",height:"calc(100% - 2rem)","overflow-y":"auto"},attrs:{span:10}},[i("ul",{staticStyle:{"list-style":"none"}},e._l(e.chapters,(function(t,n){return i("li",{key:t.id},[i("p",{class:e.currentChapterId===t.id?"active-chapter":"not-active-chapter",staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(t.chapterTitle)+" ")]),i("ul",{staticStyle:{"list-style":"none"}},e._l(t.units,(function(t,r){return i("li",{key:t.id,class:e.currentUnitId===t.id&&e.currentChapterId===t.chapterId?"list-active":"list",staticStyle:{"border-bottom":"0px solid gray"},on:{click:function(i){return e.setCurrentVideo({descr:t.unitDescription,url:t.localPlayUrl,id:t.id,chapterId:t.chapterId})}}},[i("p",{staticStyle:{"font-weight":"bolder",width:"100%"}},[e._v(" "+e._s(t.unitTitle)+" ")]),t.unitResourcesNames.length>0?i("el-collapse",{key:t.id,staticStyle:{width:"95%","background-color":"rgb(230, 253, 255)"},on:{change:e.resourceHandle},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-collapse-item",{attrs:{name:n+"-"+r}},[i("template",{slot:"title"},[i("div",{staticClass:"resouce-and-icon"},[e._v(" Resouces "),i("i",{class:e.activeName.includes(n+"-"+r)?"el-icon-folder-opened":"el-icon-folder"})])]),e._l(t.unitResourcesNames,(function(t,n){return i("li",{key:n},[e._v(" "+e._s(t)+" ")])}))],2)],1):e._e()],1)})),0)])})),0)])],1)],1)},M=[],G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"overview-card"},[i("el-card",{staticStyle:{width:"450px",border:"0px solid red"},attrs:{shadow:"hover","body-style":{padding:"0px"}}},[i("div",{staticClass:"image-and-play-btn"},[i("img",{staticClass:"image",attrs:{width:"450",height:"350",src:e.dataToSend.courseObject?e.dataToSend.courseObject.localImageUrl:""}}),i("el-button",{staticClass:"btn-on-image",attrs:{type:"text",icon:"el-icon-video-play"},on:{click:e.openDialog}})],1),i("div",[i("h3",{staticClass:"course-title"},[e._v(e._s(e.dataToSend.courseObject?e.dataToSend.courseObject.courseTitle:""))]),i("div",{staticClass:"staring-date"},[i("span",[e._v("Starting at: ")]),i("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])]),i("div",{staticClass:"about"},[e._v(" "+e._s(e.dataToSend.courseObject?e.dataToSend.courseObject.courseDescription:"")+" ")]),i("div",{staticClass:"price-and-start-btn"},[i("span",{staticClass:"price-chip"},[i("span",{staticStyle:{"font-weight":"bold"}},[e._v("Price:")]),e._v(" "+e._s(e.dataToSend.courseObject?e.dataToSend.courseObject.coursePrice:"")+" sum")]),i("el-button",{staticClass:"start-btn",on:{click:function(t){return e.start()}}},[e._v("Start")])],1)])]),i("previewDialog",{ref:"previewDialog"})],1)},X=[],Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{visible:e.dialogVisible,width:"",align:"left","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("template",{slot:"title"},[i("span",{staticStyle:{color:"gray"}},[e._v("Course title: ")]),e._v(" "+e._s(e.dataToSend.courseObject?e.dataToSend.courseObject.courseTitle:"")+" ")]),i("video",{ref:"videoFilePreview",staticStyle:{height:"100%"},attrs:{width:"100%",controls:"",src:e.dataToSend.courseObject?e.dataToSend.courseObject.localPlayUrl:"",type:"video/quicktime"}},[i("source",{attrs:{src:e.dataToSend.courseObject?e.dataToSend.courseObject.localPlayUrl:"",type:"video/quicktime"}}),e._v(" Your browser does not support HTML5 video. ")])],2)},J=[],K={data:function(){return{dialogVisible:!1}},computed:Object(U["a"])({},Object(F["e"])("newCourse",["dataToSend"])),methods:{toggleDialog:function(e){this.dialogVisible=e},handleClose:function(e){this.$refs.videoFilePreview.pause(),this.$refs.videoFilePreview.currentTime=0,e()}}},Q=K,Z=Object(m["a"])(Q,Y,J,!1,null,null,null),ee=Z.exports,te={components:{previewDialog:ee},data:function(){return{currentDate:(new Date).toLocaleDateString("en-US")}},computed:Object(U["a"])({},Object(F["e"])("newCourse",["dataToSend"])),methods:{start:function(){this.$store.commit("newCourse/TOGLLE_PREVIEWMODE",!1)},openDialog:function(){this.$refs.previewDialog.toggleDialog(!0)}}},ie=te,ne=(i("2107"),Object(m["a"])(ie,G,X,!1,null,null,null)),re=ne.exports,ae={components:{courseOverviewCard:re},data:function(){return{currentVideoUrl:"",currentChapterId:0,currentUnitId:0,currentUnitDescription:"",actName:"",activeName:[],i:0}},computed:Object(U["a"])(Object(U["a"])({},Object(F["e"])("newCourse",["dataToSend","isShowingCourseOverview"])),{},{chapters:function(){return this.dataToSend.courseChaptersArray},currentChapter:function(){var e=this;if(void 0!==this.dataToSend.courseChaptersArray){var t=this.dataToSend.courseChaptersArray.findIndex((function(t){return t.id===e.currentChapterId}));return-1!==t?this.chapters[t]:{}}return{}}}),methods:{resourceHandle:function(e){e.length>0&&(this.activeName=e[e.length-1])},setCurrentVideo:function(e){this.currentVideoUrl=e.url,this.currentChapterId=e.chapterId,this.currentUnitId=e.id,this.currentUnitDescription=e.descr}}},oe=ae,se=(i("a4e0"),Object(m["a"])(oe,H,M,!1,null,null,null)),le=se.exports,ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"Finishing Up",visible:e.finishingDialog,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"40%"},on:{"update:visible":function(t){e.finishingDialog=t},open:e.opened}},[i("div",{staticClass:"finish-body"},[i("span",[e._v("Files to upload: "+e._s(e.counOfAllFiles))]),i("span",[e._v("Uploaded files: "+e._s(e.countOfSendedFiles))]),i("div",[i("span",[e._v("Uploading...")]),i("p",[e._v(e._s(e.currentSendingFile))]),i("el-progress",{attrs:{percentage:e.percentage}})],1)]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.done()}}},[e._v("Done")])],1)])},ue=[],de={computed:Object(U["a"])({},Object(F["e"])("newCourse",["finishingDialog","counOfAllFiles","countOfSendedFiles","fileUploadProgress","currentSendingFile","percentage"])),methods:{done:function(){this.$store.commit("newCourse/SET_FINISHING_DIALOG",!1),this.$emit("resetAllW")},opened:function(){var e=this;this.$store.dispatch("newCourse/sendOneByOne").then((function(t){console.log("doneeeee"),e.$store.dispatch("newCourse/uploadNewCourse").then((function(t){e.done(),e.$store.commit("newCourse/RESET_ALL_DATA_"),e.$notify({message:t.data.message,type:"success",duration:3e3})})).catch((function(t){console.dir(t),e.$notify({message:"Error",type:"error",duration:3e3})}))})).catch((function(t){console.dir(t),e.$notify({message:"Error",type:"error",duration:3e3})}))}}},pe=de,fe=(i("8a62"),Object(m["a"])(pe,ce,ue,!1,null,null,null)),he=fe.exports,me={components:{finish:he,FormWizard:a["FormWizard"],TabContent:a["TabContent"],stepOne:b,stepTwo:S,stepThree:W,stepFour:le},data:function(){return{cancelDialogVisible:!1,counter:0}},methods:{onComplete:function(){this.$store.commit("newCourse/SET_ALL_RESOURCES"),this.$store.commit("newCourse/SET_FINISHING_DIALOG",!0)},confirmed:function(){this.cancelDialogVisible=!1,this.$refs.formWizardRef.reset(),this.$store.commit("newCourse/RESET_CHAPTERS"),this.$refs.stepOneRef.resetFields(),this.counter=0},resetAllForms:function(){this.cancelDialogVisible=!0},checkStepOne:function(){var e=this;return this.counter++,new Promise((function(t,i){t(e.$refs.stepOneRef.validateForm())}))},checkStepTwo:function(){var e=this;return new Promise((function(t,i){t(e.$refs.stepTwoRef.validateStepTwo())}))},inStepThree:function(){var e=this;return new Promise((function(t,i){e.$store.commit("newCourse/prepareData"),t(!0)}))}}},ve=me,be=(i("1b99"),Object(m["a"])(ve,n,r,!1,null,null,null));t["default"]=be.exports},7917:function(e,t,i){},"8a62":function(e,t,i){"use strict";i("99ed")},"99ed":function(e,t,i){},"9f70":function(e,t,i){},a4e0:function(e,t,i){"use strict";i("394d")},a630:function(e,t,i){var n=i("23e7"),r=i("4df4"),a=i("1c7e"),o=!a((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:r})},b84f:function(e,t,i){},d106:function(e,t,i){"use strict";i("db98")},d28b:function(e,t,i){var n=i("746f");n("iterator")},da93:function(e,t,i){},db98:function(e,t,i){},def7:function(e,t,i){"use strict";i("9f70")},fb6a:function(e,t,i){"use strict";var n=i("23e7"),r=i("861d"),a=i("e8b5"),o=i("23cb"),s=i("50c4"),l=i("fc6a"),c=i("8418"),u=i("b622"),d=i("1dde"),p=i("ae40"),f=d("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),v=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!f||!h},{slice:function(e,t){var i,n,u,d=l(this),p=s(d.length),f=o(e,p),h=o(void 0===t?p:t,p);if(a(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?r(i)&&(i=i[m],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return v.call(d,f,h);for(n=new(void 0===i?Array:i)(b(h-f,0)),u=0;f<h;f++,u++)f in d&&c(n,u,d[f]);return n.length=u,n}})}}]);